# Elina's Website


## Documentation

This part show you avaliables routes avaliable in our API. Note that all routes mentionned here are prefixed by "api/v1".

| Url                    | Method    | Description                         |  Documentation          |
|:----                   |:-------   |:------------                        |  :------                |
| /auth/login            | GET/POST  | To login a user                     | [link](#login)          |
| /auth/register         | GET/POST  | To register a user                  | [link](#register)       |
| /user                  | GET       | Get all users                       | [link]()       |
| /user                  | POST      | Store a user in database            | [link]()       |
| /user/{id}             | GET       | Get info on a specific users        | [link]()       |
| /user/{id}             | PUT/PATCH | Update info on a specific user      | [link]()       |
| /user/{id}             | DELETE    | Delete a specific user              | [link]()       |
| /user/{id}/habitations | GET       | Get All habitations for a user      | [link]()       |
| /habitation            | GET       | Get all habitations                 | [link]()       |
| /habitation            | POST      | To add an habitation in database    | [link]()       |
| /habitation/{id}       | GET       | Get a specific habitations          | [link]()       |
| /habitation/{id}       | PUT/PATCH | update an habitations               | [link]()       |
| /habitation/{id}       | DELETE    | Delete an habitation                | [link]()       |
| /habitation/{id}/user  | GET       | Get info about a habitotion owner   | [link]()       |

### Usage

This section show you how to use this api.
Before doing anything, you need to get a token. The token is generated when user is logged in or when he's registered. The token is a string like this `<number>|<string>`. The `number` is an integer, and it is represent the if of the last token generated by user. Example : `10|BrXUHYf4vR2aHvx7wX2lGVDo1k3aQKyTM6XJFoLk`

You can use token as a query string in a get method or set the header `Authorization` of your request like this:
```
    Authorization: Bearer <YOUR_TOKEN>
```

#### Login
To make a login request, you need to have email and password for the user to login. There is an example to show you how you can do it with [Curl](https://curl.co) tool.

```bash
    $ curl -X GET "https://<url>/api/v1/auth/login?email=<your_email>&password=<your_password>"
    
    {
        "id": <your_account_id>,
        "account_status": <your_account_status>,
        "name": <your_full_name>,
        "email": <your_email>,
        "token": <your_current_token>
    }
```
If you use bad credentials, the result should be 
```bash
    {
        "error": "Invalid Credentials"
    }
```

#### Register
Registration is working like login, but you need here to set value of email, password, c_password and name.
See the example below : 
```bash
    $ curl -X POST "https://<url>/api/v1/auth/register" -d email=<email> -d password=<passwd> -d c_password=<c_passwd> -d name=<your_full_name>
    
    {
        "id":    <your_id>,
        "name":  <your_name>,
        "email": <your_email>,
        "token": <your_token>
    }
```
**NB**: You will receve a bad response message if somthing is wrong.